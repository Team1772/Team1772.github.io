webpackJsonp([6],{411:function(a,s,i){function t(a){i(465)}var e=i(19)(i(427),i(488),t,"data-v-3bed5cb4",null);a.exports=e.exports},427:function(a,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=i(51),e=function(a){return a.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)};s.default={name:"create-user-dialog",props:["from"],data:function(){return{email:"",password:"",repeatPassword:"",isEmailValid:!0,isPasswordValid:!0,isRepeatPasswordValid:!0,adminSwitch:!1}},methods:{open:function(){this.$refs["create-user-dialog"].open()},close:function(){this.$refs["create-user-dialog"].close()},matchPasswords:function(){this.isRepeatPasswordValid=this.password===this.repeatPassword},isAllEmpty:function(){return""===this.email||""===this.password||""===this.repeatPassword},cleanFields:function(){this.email="",this.password="",this.repeatPassword="",this.isEmailValid=!0,this.isPasswordValid=!0,this.isRepeatPasswordValid=!0,this.adminSwitch=!1},isFormValid:function(){return this.isEmailValid=e(this.email),this.isPasswordValid=this.password.length>=8,this.isRepeatPasswordValid=this.password===this.repeatPassword,this.isEmailValid&&this.isPasswordValid&&this.isRepeatPasswordValid},createUser:function(){var a=this;if(this.isFormValid()){var s={username:this.email,password:this.password,isAdmin:this.adminSwitch,teamNumber:t.a.getLoggedUser().displayName};t.a.addUser(s).then(function(){a.$emitAll("SHOW_SNACKBAR","Usuário cadastrado com sucesso"),a.cleanFields()}).catch(function(s){a.$emitAll("SHOW_SNACKBAR","Não foi possível cadastrar o usuário"),console.log(s)}).then(function(){return a.close()})}}}}},450:function(a,s,i){s=a.exports=i(408)(!1),s.push([a.i,".dialog-container>.md-dialog[data-v-3bed5cb4]{width:90vw;max-width:100%;max-height:100%;overflow-y:auto}.md-dialog-title[data-v-3bed5cb4]{margin-bottom:10px}.md-dialog-content[data-v-3bed5cb4]{padding:10px}",""])},465:function(a,s,i){var t=i(450);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(409)("cfd58ade",t,!0)},488:function(a,s){a.exports={render:function(){var a=this,s=a.$createElement,i=a._self._c||s;return i("div",[i("md-dialog",{ref:"create-user-dialog",staticClass:"dialog-container",attrs:{"md-open-from":a.from,"md-close-to":a.from}},[i("md-dialog-title",[i("div",[a._v("Cadastrar usuário")])]),i("md-dialog-content",[i("form",{attrs:{novalidate:"novalidate"}},[i("md-input-container",{class:{"md-input-invalid":!a.isEmailValid}},[i("label",[a._v("Email")]),i("md-input",{attrs:{type:"email",required:"required"},model:{value:a.email,callback:function(s){a.email=s},expression:"email"}}),i("span",{staticClass:"md-error"},[a._v("Digite um email válido")])],1),i("md-input-container",{class:{"md-input-invalid":!a.isPasswordValid},attrs:{"md-has-password":"md-has-password"}},[i("label",[a._v("Senha")]),i("md-input",{attrs:{type:"password",required:"required"},model:{value:a.password,callback:function(s){a.password=s},expression:"password"}}),i("span",{staticClass:"md-error"},[a._v("Senha possuir no mín. 8 caracteres")])],1),i("md-input-container",{class:{"md-input-invalid":!a.isRepeatPasswordValid},attrs:{"md-has-password":"md-has-password"}},[i("label",[a._v("Repetir Senha")]),i("md-input",{attrs:{type:"password",required:"required"},model:{value:a.repeatPassword,callback:function(s){a.repeatPassword=s},expression:"repeatPassword"}}),i("span",{staticClass:"md-error"},[a._v("Senhas não são iguais")])],1),i("md-switch",{staticClass:"md-primary",attrs:{id:"adminSwitch",name:"adminSwitch"},model:{value:a.adminSwitch,callback:function(s){a.adminSwitch=s},expression:"adminSwitch"}},[a._v("Permissão de administrador")])],1)]),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:a.isAllEmpty()},on:{click:function(s){a.createUser()}}},[a._v("Criar")])],1)],1)],1)},staticRenderFns:[]}}});